"use strict";!function e(n,t,r){function o(l,u){if(!t[l]){if(!n[l]){var d="function"==typeof require&&require;if(!u&&d)return d(l,!0);if(i)return i(l,!0);var c=new Error("Cannot find module '"+l+"'");throw c.code="MODULE_NOT_FOUND",c}var s=t[l]={exports:{}};n[l][0].call(s.exports,function(e){var t=n[l][1][e];return o(t||e)},s,s.exports,e,n,t,r)}return t[l].exports}for(var i="function"==typeof require&&require,l=0;l<r.length;l++)o(r[l]);return o}({1:[function(e,n,t){e("./sidememo")()},{"./sidememo":2}],2:[function(e,n,t){function r(e){return Number.isInteger(e)||-1===e?A.find_cell_index(A.get_selected_cell()):e}function o(e){return A.select(e)}function i(e){A.select(e),A.edit_mode()}function l(e){return e?e.classList.contains("cell"):null}function u(e){var n=e.nextElementSibling;return l(n)?n:null}function d(e){var n=e.previousElementSibling;return l(n)?n:null}function c(e){return e?e.classList.contains("text_cell"):null}function s(e){return Array.from(e.parentElement.childNodes.values()).findIndex(function(n){return n===e})}function a(e){return function(e){return A.get_cell(e)}(e)}function m(e){return function(e){var n=r(e);A.command_mode();var t=A.insert_cell_below();return i(n+1),t}(s(e)).element[0]}function f(){var e=document.querySelectorAll("#notebook-container > .cell");return Array.from(e.values())}function p(e){if(!e)return null;if(!c(e))return!1;return function(e){var n=e.querySelector(".input_area > .CodeMirror").querySelectorAll(".CodeMirror-lines .CodeMirror-code .CodeMirror-line");return Array.from(n.values()).map(function(e){return e.textContent})}(e).filter(function(e){return e}).find(function(e){return e.match(q)})}function y(e){!function(e){var n=r(e);A.to_markdown(n)}(e)}function b(e){if(p(e))return e;var n=s(e);y(n);return function(e){var n=a(e),t=n.get_text(),r=t?q+"\n"+t:q+"\n";return n.set_text(r),n}(n).element[0]}function g(e,n){jQuery(e).addClass(Q).data("prev-style",e.getAttribute("style")),p(n)&&jQuery(n).addClass(N).data("prev-style",n.getAttribute("style"))}function v(e,n){e.setAttribute("style",jQuery(e).data("prev-style")),e.classList.remove(Q),n.setAttribute("style",jQuery(n).data("prev-style")),n.classList.remove(N)}function j(e){var n=u(e);p(n)||(n=m(e));var t=b(n);g(e,t);var r=s(t);return o(r),i(r),t}function _(e){if(p(e))return null;var n=e.querySelector(".sidenote-memo-toggle-button");return n||(n=function(e){var n=document.createElement("button");return n.setAttribute("class","sidenote-memo-toggle-button"),n.innerHTML='<i class="fa-file-o fa"></i>',n.addEventListener("click",function(n){var t=u(e);p(t)?setTimeout(function(){var e=s(t);console.log("selecting:",e,t),i(e)},0):j(e)}),n}(e),e.querySelector('.input_area > .CodeMirror[class*="cm-s-"]').appendChild(n),n)}function h(e){var n=e.querySelector(".sidenote-memo-toggle-button");n&&n.remove()}function x(e,n){console.log("create new cell:",e,n);var t=n.cell.element[0];_(t);var r=u(t);p(r)&&g(t,r)}function C(e){e.filter(p).forEach(function(e){g(d(e),e)})}function k(e){e.filter(p).forEach(function(e){v(d(e),e)})}function M(){var e=document.createElement("button");return e.setAttribute("class","btn btn-default "+S),e.innerHTML='<i class="fa-file fa"></i>',e.addEventListener("click",function(n){var t=f();!function(e){return!!e.some(function(e){return e.classList.contains(Q)})||!!e.some(function(e){return e.classList.contains(N)})}(t)?(C(t),e.classList.add(J)):(k(t),e.classList.remove(J))}),e}function w(){!function(){var e=document.createElement("style");e.setAttribute("type","text/css"),e.setAttribute("class","jupyter-sidenote-style"),e.textContent=T.trim(),document.head.appendChild(e)}(),function(){var e=document.querySelector("#maintoolbar-container"),n=M();e.appendChild(jQuery('<div class="btn-group '+L+'" />').append(n)[0])}();var e=f();e.forEach(_),C(e),Jupyter&&Jupyter.notebook&&Jupyter.notebook.events.on("create.Cell",x),window["jupyter-sidenote"]={installed:!0}}function E(){Jupyter&&Jupyter.notebook&&Jupyter.notebook.events.off("create.Cell",x);var e=f();k(e),e.forEach(h),function(){var e=document.querySelector("#maintoolbar-container ."+L);e&&e.remove()}(),document.querySelectorAll("[class^=jupyter-sidenote-]").forEach(function(e){return e.remove()}),delete window["jupyter-sidenote"]}var A=IPython.notebook,q="\x3c!-- jupyter-side-memo --\x3e",L="jupyter-sidenote-global-memo-button-group",S="jupyter-sidenote-global-memo-button",J="jupyter-sidenote-allstyle-applied",Q="jupyter-sidenote-content-style",N="jupyter-sidenote-memo-style",T="\n  .jupyter-sidenote-content-style {\n    display: inline-block !important;\n    width: 60% !important;\n  }\n\n  .jupyter-sidenote-memo-style {\n    display: inline-block !important;\n    width: 40% !important;\n    vertical-align: top !important;\n    /*margin-top: 6px !important;*/\n  }\n  .jupyter-sidenote-memo-style .inner_cell {\n    border: 1px solid white;\n    border: 1px solid transparent;\n  }\n  .jupyter-sidenote-memo-style.rendered:not(.selected) .inner_cell {\n    border: 1px solid rgb(251, 218, 69);\n  }\n  .jupyter-sidenote-memo-style.rendered .inner_cell {\n    background-color: rgb(252,250,197);\n    background-color: rgba(252,250,197, 0.5);\n  }\n  .jupyter-sidenote-memo-style.rendered .inner_cell .rendered_html pre {\n    margin: 1em 1em;\n  }\n  .jupyter-sidenote-memo-style.rendered .inner_cell .rendered_html pre,\n  .jupyter-sidenote-memo-style.rendered .inner_cell .rendered_html code {\n    background-color: transparent;\n  }\n\n  .rendered.cell.jupyter-sidenote-memo-style .rendered_html .jupyter-sidenote-memo-off {\n    display: none;\n  }\n  .rendered.cell:not(.jupyter-sidenote-memo-style) .rendered_html .jupyter-sidenote-memo-on {\n    display: none;\n  }\n\n  .jupyter-sidenote-memo-style.unrendered .CodeMirror-wrap:not(.CodeMirror-focused) .CodeMirror-lines .CodeMirror-code > *:first-child .CodeMirror-line {\n    background-color: #a50;\n  }\n  .jupyter-sidenote-memo-style.unrendered .CodeMirror-wrap:not(.CodeMirror-focused) .CodeMirror-lines .CodeMirror-code > *:first-child .CodeMirror-line > * > * {\n    display: none;\n  }\n\n  .sidenote-memo-toggle-button {\n    position: absolute; \n    top: -1px; \n    right: -1px;\n    border-radius: 0 0 0 3px;\n    z-index: 3;\n  }\n  .input_area .cm-s-ipython .sidenote-memo-toggle-button {\n    border: 1px solid #cfcfcf;\n  }\n  .input_area .cm-s-ipython.CodeMirror-focused .sidenote-memo-toggle-button {\n    background-color: rgb(254, 248, 171);\n    background: linear-gradient(rgb(252,250,197), rgb(254, 248, 171));\n    border: 1px solid rgb(251, 218, 69);\n  }\n\n  .jupyter-sidenote-global-memo-button.btn.btn-default {\n    color: rgb(254, 248, 171);\n  }\n  .jupyter-sidenote-global-memo-button.jupyter-sidenote-allstyle-applied.btn.btn-default {\n    background-color: rgb(254, 248, 171);\n    background: linear-gradient(rgb(252,250,197), rgb(254, 248, 171));\n    border: 1px solid rgb(251, 218, 69);\n    color: rgb(251, 218, 69);\n  }\n";n.exports=function(){window["jupyter-sidenote"]&&window["jupyter-sidenote"].installed?E():w()}},{}]},{},[1]);
